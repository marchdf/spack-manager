<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frequently Asked Questions: &mdash; Spack-Manager 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="General Information" href="general.html" />
    <link rel="prev" title="Nightly Testing with Spack-Manager" href="../user_profiles/system_admins/nightly_testing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Spack-Manager
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_profiles/user_profiles.html">User Profiles</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-are-the-in-the-specs">What are the ^ in the specs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-turn-on-an-optional-dependency-for-my-software">How do I turn on an optional dependency for my software?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-is-my-build-directory-where-is-my-install-directory">Where is my build directory/where is my install directory?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-run-tests-after-building-the-software">How do I run tests after building the software?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#should-i-worry-about-warning-included-configuration-files-should-be-updated-manually">Should I worry about <em>Warning: included configuration files should be updated manually</em>?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#should-i-worry-abour-warning-the-original-concretizer-is-currently-being-used">Should I worry abour <em>Warning: the original concretizer is currently being used.</em>?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-do-i-use-the-executables-i-built-in-my-development-environment">How do I use the executables I built in my development environment?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-to-do-about-error-couldn-t-find-patch-for-package-exawind-hdf5">What to do about <em>Error: Couldn’t find patch for package exawind.hdf5</em>?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i-m-getting-an-error-saying-there-is-a-missing-variant-error-variant-foo-not-found">I’m getting an error saying there is a missing variant? <em>Error: variant [foo] not found …</em></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="general.html">General Information</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Spack-Manager</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Frequently Asked Questions:</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/general/FAQ.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="frequently-asked-questions">
<h1>Frequently Asked Questions:<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline"></a></h1>
<section id="what-are-the-in-the-specs">
<h2>What are the ^ in the specs?<a class="headerlink" href="#what-are-the-in-the-specs" title="Permalink to this headline"></a></h2>
<p>^ characters in a spec such as <code class="docutils literal notranslate"><span class="pre">nalu-wind</span> <span class="pre">^trilinos</span></code> are spec delimiters.  Using this character allows you to specify the details of dependencies of the root spec.  So <code class="docutils literal notranslate"><span class="pre">nalu-wind</span> <span class="pre">^trilinos</span> <span class="pre">build_type=Debug</span></code> is saying I want to build <code class="docutils literal notranslate"><span class="pre">nalu-wind</span></code> and I want the build of Trilinos to be a debug build.</p>
</section>
<section id="how-do-i-turn-on-an-optional-dependency-for-my-software">
<h2>How do I turn on an optional dependency for my software?<a class="headerlink" href="#how-do-i-turn-on-an-optional-dependency-for-my-software" title="Permalink to this headline"></a></h2>
<p>In Spack all optional build features are called varinats. You can see what variants are available for any package (piece of software) by running the <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">info</span></code> command.  For example to build <code class="docutils literal notranslate"><span class="pre">amr-wind</span></code> with <code class="docutils literal notranslate"><span class="pre">openfast</span></code> you can see what the syntax is by typing:
<code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">info</span> <span class="pre">amr-wind</span></code> and under the variants you will see <code class="docutils literal notranslate"><span class="pre">openfast</span></code>.<br />
So make your spec <code class="docutils literal notranslate"><span class="pre">amr-wind+openfast</span></code> and it will put <code class="docutils literal notranslate"><span class="pre">openfast</span></code> in the DAG and link/build for you.</p>
</section>
<section id="where-is-my-build-directory-where-is-my-install-directory">
<h2>Where is my build directory/where is my install directory?<a class="headerlink" href="#where-is-my-build-directory-where-is-my-install-directory" title="Permalink to this headline"></a></h2>
<p>Spack manages directories by using hashes.  This is not convenient for just looking at things and knowing what they are, but it is very efficient for keeping things organized.  You can find the location of build/install with <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">location</span> <span class="pre">-b</span> <span class="pre">[spec]</span></code> for a build or <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">location</span> <span class="pre">-i</span> <span class="pre">[spec]</span></code> for the install.  Similarly, you can navigate to any directory with <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">cd</span> <span class="pre">-b</span> <span class="pre">[spec]</span></code> or <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">cd</span> <span class="pre">-i</span> <span class="pre">[spec]</span></code>.</p>
</section>
<section id="how-do-i-run-tests-after-building-the-software">
<h2>How do I run tests after building the software?<a class="headerlink" href="#how-do-i-run-tests-after-building-the-software" title="Permalink to this headline"></a></h2>
<p>The first thing to understand is that Spack is going to build your software in a different environment than your active shell.  To run a command in this environment you can use <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">build-env</span> <span class="pre">[spec]</span> <span class="pre">[command]</span></code> and the <code class="docutils literal notranslate"><span class="pre">[command]</span></code> will be exectued for you in the build environment (don’t forget to <a class="reference internal" href="#where-is-my-build-directory-where-is-my-install-directory"><span class="std std-doc">navigate to the build directory</span></a> first!).
Spack-Manager also provides a convenience function <code class="docutils literal notranslate"><span class="pre">build-env-dive</span> <span class="pre">[spec]</span></code> which will navigate to the build directory for you and launch a sub-shell using the build environment. You will need to type <code class="docutils literal notranslate"><span class="pre">exit</span></code> to get back to your original shell when you are done. The former is recommended for one-off commands, and the latter if you have a lot of commands to run in the environment.</p>
<p>Please note that</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spack</span> <span class="n">build</span><span class="o">-</span><span class="n">env</span> <span class="n">nalu</span><span class="o">-</span><span class="n">wind</span> <span class="n">ctest</span> <span class="o">-</span><span class="n">R</span> <span class="n">ablNeutral</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">build</span><span class="o">-</span><span class="n">env</span><span class="o">-</span><span class="n">dive</span> <span class="n">nalu</span><span class="o">-</span><span class="n">wind</span>
<span class="n">ctest</span> <span class="o">-</span><span class="n">R</span> <span class="n">ablNeutral</span>
<span class="n">exit</span>
</pre></div>
</div>
<p>are equivalent.</p>
</section>
<section id="should-i-worry-about-warning-included-configuration-files-should-be-updated-manually">
<h2>Should I worry about <em>Warning: included configuration files should be updated manually</em>?<a class="headerlink" href="#should-i-worry-about-warning-included-configuration-files-should-be-updated-manually" title="Permalink to this headline"></a></h2>
<p>No, this is just a warning from Spack saying it won’t automatically update the custom files we’ve created
for dialing in machine specific data for your environment <code class="docutils literal notranslate"><span class="pre">include.yaml</span></code> or the list of externals we’re using
to provide pre-compiled binaries for you to link against <code class="docutils literal notranslate"><span class="pre">externals.yaml</span></code>.</p>
</section>
<section id="should-i-worry-abour-warning-the-original-concretizer-is-currently-being-used">
<h2>Should I worry abour <em>Warning: the original concretizer is currently being used.</em>?<a class="headerlink" href="#should-i-worry-abour-warning-the-original-concretizer-is-currently-being-used" title="Permalink to this headline"></a></h2>
<p>No, we are using the original concretizer when you use externals from snapshots as a stop gap until
the Spack team fixes a bug for us.</p>
</section>
<section id="how-do-i-use-the-executables-i-built-in-my-development-environment">
<h2>How do I use the executables I built in my development environment?<a class="headerlink" href="#how-do-i-use-the-executables-i-built-in-my-development-environment" title="Permalink to this headline"></a></h2>
<p>You need to activate the environment <code class="docutils literal notranslate"><span class="pre">quick-activate</span></code>, and then call <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">load</span> <span class="pre">[package]</span></code>.
This will load the binaries you need into your <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Example
quick-activate $SPACK_MANAGER/environments/exawind
spack load amr-wind
mpirun -np 20 amr_wind -i [foo]
</pre></div>
</div>
</section>
<section id="what-to-do-about-error-couldn-t-find-patch-for-package-exawind-hdf5">
<h2>What to do about <em>Error: Couldn’t find patch for package exawind.hdf5</em>?<a class="headerlink" href="#what-to-do-about-error-couldn-t-find-patch-for-package-exawind-hdf5" title="Permalink to this headline"></a></h2>
<p>Please let us know if you see this. We are trying to make sure you don’t see it.
To get rid of the error run <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">clean</span> <span class="pre">-m</span></code></p>
</section>
<section id="i-m-getting-an-error-saying-there-is-a-missing-variant-error-variant-foo-not-found">
<h2>I’m getting an error saying there is a missing variant? <em>Error: variant [foo] not found …</em><a class="headerlink" href="#i-m-getting-an-error-saying-there-is-a-missing-variant-error-variant-foo-not-found" title="Permalink to this headline"></a></h2>
<p>Typically this means your Spack submodule is out of date.  To check run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $SPACK_MANAGER
git status
</pre></div>
</div>
<p>If you see <code class="docutils literal notranslate"><span class="pre">spack</span></code> in there then you need to re-sync the submodule. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span></code> etc</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../user_profiles/system_admins/nightly_testing.html" class="btn btn-neutral float-left" title="Nightly Testing with Spack-Manager" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="general.html" class="btn btn-neutral float-right" title="General Information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>